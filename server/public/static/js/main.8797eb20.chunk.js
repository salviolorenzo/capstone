(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){"use strict";t.a={OWKEY:"88b430eb57686cffb62a9a7565a182f5",TMKEY:"xnQSKNs1Dhq2XQTq0203Nn41zQqMxROU",ZOMKEY:"07f1e909ceb2577442071717d2d186c3",USKEY:"1b4430d53513bd836aae9081bc5ca45860ea77e0e70ec5215c2979fa908fd5f0",GOKEY:"AIzaSyD1__tykJab9aW12nXq0MTxPmNHK1X0MMc",YELPKEY:"Eg7BRcAlWbRoy5tvv0ShOaKrqIXXylrqUgnrLukLcJgbrnJTxD5RnLNgbMjlPLnzC4TnET0xRDDaJDDfOlz9qQeTA303aUGbHllKHgmCO5xA07lmCvdgVMNBnDsxXHYx",MEETKEY:"255461511219715d4d39267f4f226170",NEWSKEY:"658eea0bcfd448cc8479917c18421b25"}},33:function(e,t,a){e.exports=a.p+"static/media/DSH_LOGO.f04fc58f.png"},34:function(e,t,a){e.exports=a(68)},39:function(e,t,a){},63:function(e,t,a){},65:function(e,t){e.exports="data:image/png;base64,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"},66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADFwAAAxcBwpsE1QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARaSURBVGiB7ZpNbBVVFMf/x/JRQguhRUArEkWjEWJLTNCNEnRh4kYSw8rEj5i4MWIMcUF0a+KKxBij7o3RjYlREJSFED+CtmisHxUIxoCkLkrVIhJL+3Pxzn3cN7yZufP6asH0v7kz9/zvOed/37szd+aMNI//KYDO6NiA7cCBqO9j4KG8MXMKYDHwKLAfeND7lgN7cUTcgPeBZd63zcc+AiyeCwFLgOeA3zy5XZGIoSjpZkIAvorEPO99o8BOYMl/JeIB4GSU1GGgw/9O+zIJ5wkB+NDHdACDUf8vwP2zKaATeD2TzAWg3+07miRbJATgKbdtAqai/mngVdr9dwP6gCNNEnnL7auAP1oQMg6sdPs7TeyDwDXtErEOON4kyDSw0Tkv5yRaJgRgt9v73WcWR4HrZypidY4IgI+c0wucnYGQCWCFcw7kcI4Cq4pyvapARKekPZLW51De9PYxSUvTp+cSdLmP2GcWN0v6gIL7juUZgJckPZljPi/pFjObAA5J2pgbwKzH/Z3J40gaNrMtQLeko5LyFvkbZrarwM88Ll+Qcz/IYMC5+8uIkd8y7HPeQAJ3RzbvhjVCbXtwQtKaAq3nJXX78e8qWehmZkFIyRxOSFqh2gVoQvnrRJJGJd1oZn+HjuxVa7uKRUjSiJldkLRBM7taZdEt6VYzm5Q0UsJdI6lhJ50V8nBCwCPe9ielVw3B59cJ3IZc60KAHklbExwMe3tbUmrVsCETowj34jdSqfEXuUfSwgQHp7y9IS23Sgg+TxWyalgk6e5wEgu5MzFYuLFdl8ivgr5MjDLUc46FDCQODkFWJ/KrIPhMFVJfp7GQ1BkOQboLWa1hubdjify14SAWcm3i4CCkK5FfBWFyUoX0lVPmMTeob1GAMUk9CWO6zewscE5S6RuPClsUSTpnZkuBLtW2KWUYM7OVUuMa+TVhoCT1epsSqCqCz95C1kXUc25FSPjVZkPIn96mCjkZDmIhg4mDQ5DTifwqCJOZKmQoHMRCDicODkFSthFVEXymCqnnHAv5XNJkwuBw7T6eGKwKfvY25eb8j6QvwkldiJmdkbQ3wcEmb1P/ilXwnbcp26U9ZjYeTrLPI28nOLjd25Rnhqr4PhOjCPm5UnuhfKzkeXkSf78EnC57uI58l2GM2kvtTo9RhGNAR5z7gvjEzKaovcJ8sWQ21vvsfSbpvoTZk6TxEvtBMwO4SeWX9t1mNpUYdx6XF7i0FhLjLy5WnIbbsEa+dc4y952H11oR0kljJSmLx523sw1CnnXOEwWcL2m1eEpxWeET57SzrHAoh1NaVkgRsw4YyQlwh3PaUejZnGP/AVibl19VMVcDnzYJ8q7b21F6e6+J/SCQuu9KFrOIWoEyLo9NA5vdPpNi6F1N/L4CpLxna1nQVuCnKOgQMytPLwC+ifp/BLbMmoCMmIXAM7Tng4EXvG8UeHpWf4UCQfEnHNsiMVfGJxzNwJX8Uc08ZgH/AjzvGUsLDDOwAAAAAElFTkSuQmCC"},67:function(e,t){e.exports="data:image/png;base64,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"},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),o=a.n(s),l=(a(39),a(6)),c=a(7),i=a(21),d=a(8),u=a(22),h=a(23),g=a(2),m=a(398),f=a(405),b=a(397),p=a(27),v=a(20),A=a.n(v),y=a(18),E=r.a.lazy(function(){return a.e(1).then(a.bind(null,404))}),w=r.a.lazy(function(){return a.e(2).then(a.bind(null,399))}),S=r.a.lazy(function(){return a.e(3).then(a.bind(null,400))}),j=r.a.lazy(function(){return a.e(4).then(a.bind(null,401))}),k=r.a.lazy(function(){return Promise.all([a.e(13),a.e(5)]).then(a.bind(null,406))});function O(e){switch(e){case"clear sky":return"/images/weather_icons/animated/day.svg";case"few clouds":case"scattered clouds":case"broken clouds":return"/images/weather_icons/animated/cloudy.svg";case"shower rain":return"/images/weather_icons/animated/rainy-6.svg";case"rain":return"/images/weather_icons/animated/rainy-3.svg";case"thunderstorm":return"/images/weather_icons/animated/thunder.svg";case"snow":return"/images/weather_icons/animated/snowy-6.svg";case"mist":default:return"/images/weather_icons/animated/cloudy.svg"}}function P(e){var t=this,a={lat:e.coords.latitude.toFixed(4),long:e.coords.longitude.toFixed(4)};return console.log(a),fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.lat,"&lon=").concat(a.long,"&apikey=").concat(y.a.OWKEY)).then(function(e){return e.json()}).then(function(e){var n={temp:"Temperature: ".concat((9*(e.main.temp-273.15)/5+32).toFixed(2)," \xb0F"),high_low:"High: ".concat((9*(e.main.temp_max-273.15)/5+32).toFixed(2)," \xb0F Low: ").concat((9*(e.main.temp_min-273.15)/5+32).toFixed(2)," \xb0F"),hum:"Humidity: ".concat(e.main.humidity," %")};t.setState({coords:{lat:a.lat,long:a.long},board1:Object(g.a)({},t.state.board1,{weather:n,weatherIcon:O(e.weather[0].description)})})}),a}function C(e){var t=this,a={lat:e.coords.latitude.toFixed(4),long:e.coords.longitude.toFixed(4)};fetch("https://developers.zomato.com/api/v2.1/geocode?lat=".concat(a.lat,"&lon=").concat(a.long,"&apikey=").concat(y.a.ZOMKEY)).then(function(e){return e.json()}).then(function(e){var a={entity_id:e.location.entity_id,entity_type:e.location.entity_type},n=e.nearby_restaurants.map(function(e){return{id:e.restaurant.id,name:e.restaurant.name,location:e.restaurant.location,category:e.restaurant.cuisines,price:e.restaurant.price_range,avg_rating:e.restaurant.user_rating.aggregate_rating,menu:e.restaurant.menu_url}});fetch("https://developers.zomato.com/api/v2.1/location_details?entity_id=".concat(a.entity_id,"&entity_type=").concat(a.entity_type,"&apikey=").concat(y.a.ZOMKEY)).then(function(e){return e.json()}).then(function(e){var a=e.best_rated_restaurant.map(function(e){return{id:e.restaurant.id,name:e.restaurant.name,location:e.restaurant.location,category:e.restaurant.cuisines,price:e.restaurant.price_range,avg_rating:e.restaurant.user_rating.aggregate_rating,menu:e.restaurant.menu_url}}),r=n.filter(function(e){return a.includes(e)}),s=a.concat(r);console.log(s),t.setState({board2:Object(g.a)({},t.state.board2,{restaurants:s})})})})}function D(e){var t=this,a="".concat(A()((new Date).toLocaleDateString("en-US")).format("YYYY-MM-DD"),"T00:00:00Z");console.log(a);var n={lat:e.coords.latitude.toFixed(4),long:e.coords.longitude.toFixed(4)};fetch("https://app.ticketmaster.com/discovery/v2/events.json?&latlong=".concat(n.lat,",").concat(n.long,"&radius=20&unit=miles&size=50&startDateTime=").concat(a,"&includeTBD=no&classificationName=").concat(this.state.board2.category,"&sort=date,asc&apikey=").concat(y.a.TMKEY)).then(function(e){return e.json()}).then(function(e){console.log(e);var a=e._embedded.events.map(function(e){return e.classifications[0].subGenre?{name:e.name,img:e.images[8].url,url:e.url,date:e.dates.start.localDate,time:e.dates.start.localTime,distance:e.distance,type:e.classifications[0].segment.name,genre:e.classifications[0].subGenre.name,venue:e._embedded.venues[0]}:{name:e.name,img:e.images[5].url,url:e.url,date:e.dates.start.localDate,time:e.dates.start.localTime,distance:e.distance,type:e.classifications[0].segment.name,venue:e._embedded.venues[0]}});t.setState({board2:Object(g.a)({},t.state.board2,{events:a})})})}var T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={coords:{},tiles:[],userInfo:{},userPreferences:{bgTerm:"",newsTerm:"",array:[]},bgQuery:"",newsQuery:"",bgUrl:"",board1:{tiles:[],weather:{},weatherIcon:"",news:{articles:[],queryTerm:""},calendar:{selectedEvent:{},modalIsOpen:!1,term:"",desc:" ",start:"",end:"",allDay:!1,events:[]}},board2:{tiles:[],events:[],category:"music",restaurants:[]},board3:{tiles:[]}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(fetch("/api/preferences").then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return{id:e.id,term:e.term,type:e.type}});e.setState({userPreferences:Object(g.a)({},e.state.userPreferences,{array:a})},function(){var t,a;if(0===e.state.userPreferences.array.length)t="space",a="country=us";else{var n=e.state.userPreferences.array.filter(function(e){return"background"===e.type}).map(function(e){return e.term}),r=e.state.userPreferences.array.filter(function(e){return"news_source"===e.type}).map(function(e){return e.term});if(1===n.length&&0===r.length)t=n[0],a="country=us";else if(0===n.length&&1===r.length)t="space",a="sources=".concat(r[0]);else if(0===n.length&&r.length>1)a="sources=".concat(r.map(function(e){return"".concat(e)})),t="space";else if(1===n.length&&1===r.length)t=n[0],a="sources=".concat(r[0]);else if(1===n.length&&r.length>1)t=n[0],a="sources=".concat(r.map(function(e){return"".concat(e)}));else if(0===n.length&&r.length>1)t="space",a="sources=".concat(r.map(function(e){return"".concat(e)}));else if(n.length>1&&0===r.length){t=n[Math.floor(Math.random()*n.length)],a="country=us"}else{var s=Math.floor(Math.random()*n.length);a="sources=".concat(r.map(function(e){return"".concat(e)})),t=n[s]}}e.setState({bgQuery:t,newsQuery:a},function(){fetch("https://api.unsplash.com/search/photos?query=".concat(e.state.bgQuery,"&client_id=").concat(y.a.USKEY)).then(function(e){return e.json()}).then(function(t){console.log(t);var a=Math.floor(9*Math.random());fetch("https://newsapi.org/v2/top-headlines?".concat(e.state.newsQuery,"&apiKey=").concat(y.a.NEWSKEY)).then(function(e){return e.json()}).then(function(n){console.log(n);var r=n.articles.map(function(e){return{source:e.source.name,title:e.title,url:e.url,description:e.description}});e.setState({board1:Object(g.a)({},e.state.board1,{news:Object(g.a)({},e.state.board1.news,{articles:r})}),bgUrl:t.results[a].urls.regular})})})})})}),"geolocation"in navigator)navigator.geolocation.getCurrentPosition(P.bind(this)),navigator.geolocation.getCurrentPosition(C.bind(this)),navigator.geolocation.getCurrentPosition(D.bind(this));else{var t={coords:{latitude:34,longitude:-84}};P(t),C(t),D(t)}fetch("/api/events").then(function(e){return e.json()}).then(function(t){e.setState({board1:Object(g.a)({},e.state.board1,{calendar:Object(g.a)({},e.state.board1.calendar,{events:t})})})}),fetch("/api/settings").then(function(e){return e.json()}).then(function(t){e.setState({userInfo:t})})}},{key:"handleEventType",value:function(e){var t=this,a="".concat(A()((new Date).toLocaleDateString("en-US")).format("YYYY-MM-DD"),"T00:00:00Z");this.setState({board2:Object(g.a)({},this.state.board2,{category:e})},function(){fetch("https://app.ticketmaster.com/discovery/v2/events.json?&latlong=".concat(t.state.coords.lat,",").concat(t.state.coords.long,"&radius=20&unit=miles&size=50&startDateTime=").concat(a,"&includeTBD=no&classificationName=").concat(t.state.board2.category,"&sort=date,asc&apikey=").concat(y.a.TMKEY)).then(function(e){return e.json()}).then(function(e){var a=e._embedded.events.map(function(e){return e._embedded.venues[0]&&e.classifications[0].genre?{name:e.name,img:e.images[8].url,url:e.url,date:e.dates.start.localDate,time:e.dates.start.localTime,type:e.classifications[0].segment.name,genre:e.classifications[0].genre.name,venue:e._embedded.venues[0]}:e._embedded.venues[0]&&!e.classifications[0].genre?{name:e.name,img:e.images[8].url,url:e.url,date:e.dates.start.localDate,time:e.dates.start.localTime,type:e.classifications[0].segment.name,venue:e._embedded.venues[0]}:{name:e.name,img:e.images[0].url,url:e.url,date:e.dates.start.localDate,time:e.dates.start.localTime,type:e.classifications[0].segment.name}});t.setState({board2:Object(g.a)({},t.state.board2,{events:a})})})})}},{key:"displayEvent",value:function(e){console.log(e.id);var t={id:e.id,title:e.title,allDay:e.allDay,start:A()(e.start.toLocaleString()).format("MM-DD-YYYY HH:mm:ss"),end:A()(e.end.toLocaleString()).format("MM-DD-YYYY HH:mm:ss"),desc:e.desc};console.log(t),this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{selectedEvent:t,term:t.title,desc:t.desc,start:t.start,end:t.end})})},this.openModal)}},{key:"openModal",value:function(){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{modalIsOpen:!0})})})}},{key:"afterOpenModal",value:function(){console.log("opened")}},{key:"closeModal",value:function(){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{modalIsOpen:!1,selectedEvent:{},term:"",desc:""})})})}},{key:"onSlotChange",value:function(e){var t=A()(e.start.toLocaleString()).format("MM-DD-YYYY HH:mm:ss"),a=A()(e.end.toLocaleString()).format("MM-DD-YYYY HH:mm:ss"),n={title:this.state.board1.calendar.term,allDay:!1,start:t,end:a,description:this.state.board1.calendar.desc};this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{selectedEvent:n,start:n.start,end:n.end})})}),this.openModal()}},{key:"handleNewEvent",value:function(e){var t=this;e.preventDefault();var a={id:this.state.board1.calendar.selectedEvent.id,title:this.state.board1.calendar.term,allDay:this.state.board1.calendar.allDay,start:this.state.board1.calendar.start,end:this.state.board1.calendar.end,description:this.state.board1.calendar.desc};console.log(a),fetch("/api/events/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){console.log(e);var a={id:e.id,title:e.title,allday:e.allDay,eventstart:e.eventStart,eventend:e.eventEnd,description:e.description};t.setState({board1:Object(g.a)({},t.state.board1,{calendar:Object(g.a)({},t.state.board1.calendar,{events:[].concat(Object(h.a)(t.state.board1.calendar.events),[a]),selectedEvent:{}})})},t.closeModal)})}},{key:"handleDelete",value:function(e){var t=this;e.preventDefault(),fetch("/api/events/".concat(this.state.board1.calendar.selectedEvent.id,"/delete"),{method:"POST"}).then(function(e){return e.json()}).then(function(e){t.setState({board1:Object(g.a)({},t.state.board1,{calendar:Object(g.a)({},t.state.board1.calendar,{events:e,selectedEvent:{}})})})}),this.closeModal()}},{key:"handleTitleChange",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{term:e.target.value})})})}},{key:"handleDescChange",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{desc:e.target.value})})})}},{key:"handleStartTime",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{start:e.target.value})})})}},{key:"handleEndTime",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{end:e.target.value})})})}},{key:"changeBox",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{calendar:Object(g.a)({},this.state.board1.calendar,{allDay:e.target.checked})})})}},{key:"handleQueryTerm",value:function(e){this.setState({board1:Object(g.a)({},this.state.board1,{news:Object(g.a)({},this.state.board1.news,{queryTerm:e.target.value})})}),console.log(e.target.value)}},{key:"handleNewsSearch",value:function(e){var t=this;if(e.preventDefault(),!this.state.board1.news.queryTerm)return null;fetch("https://newsapi.org/v2/top-headlines?q=".concat(this.state.board1.news.queryTerm,"&apiKey=").concat(y.a.NEWSKEY)).then(function(e){return e.json()}).then(function(e){console.log(e);var a=e.articles.map(function(e){return{source:e.source.name,title:e.title,url:e.url,description:e.description}});t.setState({board1:Object(g.a)({},t.state.board1,{news:Object(g.a)({},t.state.board1.news,{articles:a})})})})}},{key:"handleNewName",value:function(e){this.setState({userInfo:Object(g.a)({},this.state.userInfo,{name:e.target.value})})}},{key:"handleNewEmail",value:function(e){this.setState({userInfo:Object(g.a)({},this.state.userInfo,{email:e.target.value})})}},{key:"handleInfoSubmit",value:function(e){var t=this;if(e.preventDefault(),e.target.newPass.value.length>=8&&e.target.newPass.value===e.target.confirmNewPass.value){var a={name:e.target.name.value,email:e.target.email.value,password:e.target.curPass.value,newPass:e.target.newPass.value};fetch("/api/settings/info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){t.setState({userInfo:e})})}else{var n={name:e.target.name.value,email:e.target.email.value,password:e.target.curPass.value};fetch("/api/settings/info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){t.setState({userInfo:e})})}}},{key:"handleBgTermChange",value:function(e){this.setState({userPreferences:Object(g.a)({},this.state.userPreferences,{bgTerm:e.target.value})})}},{key:"handleNewsTermChange",value:function(e){this.setState({userPreferences:Object(g.a)({},this.state.userPreferences,{newsTerm:e.target.value})})}},{key:"handleNewBackground",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.userPreferences.bgTerm){var a={id:1,value:this.state.userPreferences.bgTerm,type:"background"};fetch("/api/preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){t.setState({userPreferences:Object(g.a)({},t.state.userPreferences,{array:[].concat(Object(h.a)(t.state.userPreferences.array),[e])})})})}}},{key:"handleNewsSource",value:function(e){var t=this;if(e.preventDefault(),console.log(e.select),""!==this.state.userPreferences.newsTerm){var a={id:2,value:this.state.userPreferences.newsTerm,type:"news_source"};fetch("/api/preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){t.setState({userPreferences:Object(g.a)({},t.state.userPreferences,{array:[].concat(Object(h.a)(t.state.userPreferences.array),[e])})})})}}},{key:"handlePrefDelete",value:function(e){var t=this;console.log(e);var a=this.state.userPreferences.array.indexOf(e),n=this.state.userPreferences.array;console.log(a),n.splice(a,1),fetch("/api/preferences/".concat(e.id),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(a){console.log(a),t.setState({userPreferences:Object(g.a)({},t.state.userPreferences,{array:t.state.userPreferences.array.filter(function(t){return t.id!==e.id})})})})}},{key:"addToCalendar",value:function(e){var t=this;console.log(e);var a={title:e.name,allDay:!1,start:"".concat(e.date," ").concat(e.time),end:"".concat(e.date," 23:59:00"),description:"Genre: ".concat(e.genre,", Venue: ").concat(e.venue.name)};console.log(a),fetch("/api/events/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){console.log(e);var a={id:e.id,title:e.title,allday:e.allDay,eventstart:e.eventStart,eventend:e.eventEnd,description:e.description};t.setState({board1:Object(g.a)({},t.state.board1,{calendar:Object(g.a)({},t.state.board1.calendar,{events:[].concat(Object(h.a)(t.state.board1.calendar.events),[a]),selectedEvent:{}})})},t.closeModal)})}},{key:"render",value:function(){var e,t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(w,null),r.a.createElement("div",{className:"home",style:(e=this.state.bgUrl,{backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"})},r.a.createElement("ul",{className:"navList"},r.a.createElement("li",null,r.a.createElement(m.a,{activeStyle:{borderBottom:"1px solid white",paddingBottom:"3px"},to:"/home/dash1"},"Daily Briefing")),r.a.createElement("li",null,r.a.createElement(m.a,{activeStyle:{borderBottom:"1px solid white",paddingBottom:"3px"},to:"/home/dash2"},"Events & Places")),r.a.createElement("li",null,r.a.createElement(m.a,{activeStyle:{borderBottom:"1px solid white",paddingBottom:"3px"},to:"/home/dash3"},"Map"))),r.a.createElement(f.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,{path:"/home/settings/info",render:function(e){return r.a.createElement(E,Object.assign({userInfo:t.state.userInfo,preferences:t.state.userPreferences.array,bgTerm:t.state.userPreferences.bgTerm,newsTerm:t.state.userPreferences.newsTerm,handleBgTermChange:t.handleBgTermChange.bind(t),handleNewsTermChange:t.handleNewsTermChange.bind(t),handleNewBackground:t.handleNewBackground.bind(t),handleNewsSource:t.handleNewsSource.bind(t),handleNewName:t.handleNewName.bind(t),handleNewEmail:t.handleNewEmail.bind(t),handleInfoSubmit:t.handleInfoSubmit.bind(t),handlePrefDelete:t.handlePrefDelete.bind(t)},e))}}),r.a.createElement(b.a,{path:"/home/dash1",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(S,Object.assign({weather:t.state.board1.weather,icon:t.state.board1.weatherIcon,news:t.state.board1.news.articles,events:t.state.board1.calendar.events,allDay:t.state.board1.calendar.allDay,selectedEvent:t.state.board1.calendar.selectedEvent,modalIsOpen:t.state.board1.calendar.modalIsOpen,term:t.state.board1.calendar.term,desc:t.state.board1.calendar.desc,start:t.state.board1.calendar.start,end:t.state.board1.calendar.end,displayEvent:t.displayEvent.bind(t),openModal:t.openModal.bind(t),afterOpenModal:t.afterOpenModal.bind(t),closeModal:t.closeModal.bind(t),onSlotChange:t.onSlotChange.bind(t),handleNewEvent:t.handleNewEvent.bind(t),handleDelete:t.handleDelete.bind(t),handleTitleChange:t.handleTitleChange.bind(t),handleDescChange:t.handleDescChange.bind(t),handleStartTime:t.handleStartTime.bind(t),handleEndTime:t.handleEndTime.bind(t),changeBox:t.changeBox.bind(t),handleNewsSearch:t.handleNewsSearch.bind(t),queryTerm:t.state.board1.news.queryTerm,handleQueryTerm:t.handleQueryTerm.bind(t)},e)))}}),r.a.createElement(b.a,{path:"/home/dash2",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(j,Object.assign({events:t.state.board2.events},e,{addToCalendar:t.addToCalendar.bind(t),handleEventType:t.handleEventType.bind(t),restaurants:t.state.board2.restaurants})))}}),r.a.createElement(b.a,{path:"/home/dash3",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(k,Object.assign({coords:t.state.coords,markers:t.state.board2.restaurants,events:t.state.board2.events},e)))}}))))))}}]),t}(n.Component),B=(a(63),a(403)),N=a(402),L=a(62);var Y=function(e){return r.a.createElement("form",{onSubmit:function(t){e.handleLogin(t)},className:"landingForm"},r.a.createElement("label",null,"Email:",r.a.createElement("br",null),r.a.createElement("input",{type:"email",placeholder:"john@mail.com",name:"email",value:e.loginEmail,onChange:function(t){e.handleLoginChange(t)}})),r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"password",name:"password",value:e.loginPass,onChange:function(t){e.handlePassChange(t)}})),r.a.createElement("button",{type:"submit",className:"logRegBtn"},"Log in"),r.a.createElement("p",{className:"errorMsg"},e.error))};var M=function(e){return r.a.createElement("form",{onSubmit:function(t){e.handleRegister(t)},className:"landingForm"},r.a.createElement("label",null,"Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"John Smith",name:"name",value:e.regName,onChange:function(t){e.handleRegNameChange(t)}})),r.a.createElement("label",null,"Email:",r.a.createElement("br",null),r.a.createElement("input",{type:"email",placeholder:"john@mail.com",name:"email",value:e.regEmail,onChange:function(t){e.handleRegEmailChange(t)}})),r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"password",name:"password",value:e.regPass,onChange:function(t){e.handleRegPassChange(t)}})),r.a.createElement("label",null,"Confirm password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"password",name:"confirmPassword",value:e.regPassConf,onChange:function(t){e.handleRegPassConfChange(t)}})),r.a.createElement("button",{type:"submit",className:"logRegBtn"},"Sign Up"),r.a.createElement("p",{className:"errorMsg"},e.error))},I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={loginEmail:"",loginPass:"",regName:"",regEmail:"",regPass:"",regPassConf:"",isLoggedIn:"",loginError:"",regError:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleLoginChange",value:function(e){this.setState({loginEmail:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({loginPass:e.target.value})}},{key:"handleRegNameChange",value:function(e){this.setState({regName:e.target.value})}},{key:"handleRegEmailChange",value:function(e){this.setState({regEmail:e.target.value})}},{key:"handleRegPassChange",value:function(e){this.setState({regPass:e.target.value})}},{key:"handleRegPassConfChange",value:function(e){this.setState({regPassConf:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;console.log(e),e.preventDefault();var a={name:this.state.regName,email:this.state.regEmail,password:this.state.regPass};this.state.regPass===this.state.regPassConf?fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){e&&t.setState({isLoggedIn:!0})}):this.setState({regError:"Passwords did not match."})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault();var a={email:this.state.loginEmail,password:this.state.loginPass};fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){e?t.setState({isLoggedIn:e}):t.setState({loginError:"Email address or password were incorrect."})})}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement(N.a,{to:"/home/dash1"}):r.a.createElement(B.a,null,r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"loginReg"},r.a.createElement("img",{src:a(33)}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(L.a,{to:"/login"}," Log in ")),r.a.createElement("li",null,r.a.createElement(L.a,{to:"/register"}," Register "))),r.a.createElement(b.a,{path:"/login",render:function(t){return r.a.createElement(Y,Object.assign({handleLogin:e.handleLogin.bind(e),error:e.state.loginError,loginEmail:e.state.loginEmail,loginPass:e.state.loginPass,handleLoginChange:e.handleLoginChange.bind(e),handlePassChange:e.handlePassChange.bind(e)},t))}}),r.a.createElement(b.a,{path:"/register",render:function(t){return r.a.createElement(M,Object.assign({handleRegister:e.handleRegister.bind(e),error:e.state.regError,regName:e.state.regName,regEmail:e.state.regEmail,regPass:e.state.regPass,regPassConf:e.state.regPassConf,handleRegNameChange:e.handleRegNameChange.bind(e),handleRegEmailChange:e.handleRegEmailChange.bind(e),handleRegPassChange:e.handleRegPassChange.bind(e),handleRegPassConfChange:e.handleRegPassConfChange.bind(e)},t))}})),r.a.createElement("footer",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{title:"Email",href:"mailto:salviolorenzo@gmail.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:a(65)}))),r.a.createElement("li",null,r.a.createElement("a",{title:"Portfolio",href:"https://www.lorenzosalvio.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:a(66)}))),r.a.createElement("li",null,r.a.createElement("a",{title:"GitHub",href:"https://www.github.com/salviolorenzo",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:a(67)})))),r.a.createElement("p",null," Built by Lorenzo Salvio "))))}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{path:"/",exact:!0,component:I}),r.a.createElement(b.a,{path:"/home",component:T})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,15,12]]]);
//# sourceMappingURL=main.8797eb20.chunk.js.map